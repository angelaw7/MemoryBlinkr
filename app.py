from flask import Flask, jsonify, request, send_from_directory, redirect
import gridgame
import imageGame
# import paragraphGame
from blink_detector.BlinkDetector import BlinkDetector

global old_grid, old_paragraph
blink_detector = BlinkDetector()

app = Flask(__name__)


@app.route("/")
def health_check():
    return send_from_directory("templates/", "menu.html")

@app.route("/grid-game")
def loadGridPage():
    return send_from_directory("templates/", "index.html")

@app.route("/image-game")
def loadImagePage():
    return send_from_directory("templates/", "canvas.html")

@app.route("/get-grid", methods=["POST"])
def getGrid():
    """
    Get a randomly generated grid
    """
    global old_grid
    old_grid = gridgame.generateGrid(6, 6)
    return jsonify(old_grid)

@app.route("/get-image", methods=["POST"])
def getImage():
    """
    Get a randomly selected image
    """
    global image
    image = "data:image/png;base64,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QAABBBAg0FkDCCCAAAIIBBAg0ANMIkNAAAEEEECAQGcNIIAAAgggEECAQA8wiQwBAQQQQAABAp01gAACCCCAQAABAj3AJDIEBBBAAAEECHTWAAIIIIAAAgEECPQAk8gQEEAAAQQQINBZAwgggAACCAQQINADTCJDQAABBBBAgEBnDSCAAAIIIBBAgEAPMIkMAQEEEEAAAQKdNYAAAggggEAAAQI9wCQyBAQQQAABBAh01gACCCCAAAIBBAj0AJPIEBBAAAEEECDQWQMIIIAAAggEECDQA0wiQ0AAAQQQQIBAZw0ggAACCCAQQIBADzCJDAEBBBBAAAECnTWAAAIIIIBAAAECPcAkMgQEEEAAAQQIdNYAAggggAACAQQI9ACTyBAQQAABBBAg0FkDCCCAAAIIBBAg0ANMIkNAAAEEEECAQGcNIIAAAgggEECAQA8wiQwBAQQQQAABAp01gAACCCCAQAABAj3AJDIEBBBAAAEECHTWAAIIIIAAAgEECPQAk8gQEEAAAQQQINBZAwgggAACCAQQINADTCJDQAABBBBAgEBnDSCAAAIIIBBAgEAPMIkMAQEEEEAAAQKdNYAAAggggEAAAQI9wCQyBAQQQAABBAh01gACCCCAAAIBBAj0AJPIEBBAAAEEECDQWQMIIIAAAggEECDQA0wiQ0AAAQQQQIBAZw0ggAACCCAQQIBADzCJDAEBBBBAAAECnTWAAAIIIIBAAAECPcAkMgQEEEAAAQQIdNYAAggggAACAQQI9ACTyBAQQAABBBAg0FkDCCCAAAIIBBAg0ANMIkNAAAEEEECAQGcNIIAAAgggEECAQA8wiQwBAQQQQAABAp01gAACCCCAQAABAj3AJDIEBBBAAAEECHTWAAIIIIAAAgEECPQAk8gQEEAAAQQQINBZAwgggAACCAQQINADTCJDQAABBBBAgEBnDSCAAAIIIBBAgEAPMIkMAQEEEEAAAQKdNYAAAggggEAAAQI9wCQyBAQQQAABBAh01gACCCCAAAIBBAj0AJPIEBBAAAEEECDQWQMIIIAAAggEECDQA0wiQ0AAAQQQQIBAZw0ggAACCCAQQIBADzCJDAEBBBBAAAECnTWAAAIIIIBAAAECPcAkMgQEEEAAAQQIdNYAAggggAACAQQI9ACTyBAQQAABBBAg0FkDCCCAAAIIBBAg0ANMIkNAAAEEEECAQGcNIIAAAgggEECAQA8wiQwBAQQQQAABAp01gAACCCCAQAABAj3AJDIEBBBAAAEECHTWAAIIIIAAAgEECPQAk8gQEEAAAQQQINBZAwgggAACCAQQINADTCJDQAABBBBAgEBnDSCAAAIIIBBAgEAPMIkMAQEEEEAAAQKdNYAAAggggEAAAQI9wCQyBAQQQAABBAh01gACCCCAAAIBBAj0AJPIEBBAAAEEECDQWQMIIIAAAggEECDQA0wiQ0AAAQQQQIBAZw0ggAACCCAQQIBADzCJDAEBBBBAAAECnTWAAAIIIIBAAAECPcAkMgQEEEAAAQQIdNYAAggggAACAQQI9ACTyBAQQAABBBAg0FkDCCCAAAIIBBAg0ANMIkNAAAEEEECAQGcNIIAAAgggEECAQA8wiQwBAQQQQAABAp01gAACCCCAQAABAj3AJDIEBBBAAAEECHTWAAIIIIAAAgEECPQAk8gQEEAAAQQQINBZAwgggAACCAQQINADTCJDQAABBBBAgEBnDSCAAAIIIBBAgEAPMIkMAQEEEEAAAQKdNYAAAggggEAAAQI9wCQyBAQQQAABBAh01gACCCCAAAIBBAj0AJPIEBBAAAEEECDQWQMIIIAAAggEECDQA0wiQ0AAAQQQQIBAZw0ggAACCCAQQIBADzCJDAEBBBBAAAECnTWAAAIIIIBAAAECPcAkMgQEEEAAAQQIdNYAAggggAACAQQI9ACTyBAQQAABBBAg0FkDCCCAAAIIBBAg0ANMIkNAAAEEEECAQGcNIIAAAgggEECAQA8wiQwBAQQQQACB/wd4IgBAww/zpAAAAABJRU5ErkJggg=="

    return jsonify(image)


@app.route("/await-blink", methods=["GET"])
def awaitBlink():
    """
    Wait for the blink response
    """
    blink_detector.start()
    return {"response": 200}


@app.route("/compare-grids", methods=["POST"])
def compareGrids():
    """
    Compare the originally generated grid with the user submitted grid
    """
    new_grid = request.get_json()
    return jsonify(gridgame.compareGrid(old_grid, new_grid))

@app.route("/compare-image", methods=["POST"])
def compareImages():
    """
    Compare the original image with the user submitted image
    """ 
    user_image = str(request.get_json())
    user_proc_str = user_image.split(',')
    
    server_proc_str = image.split(',')
    
    return jsonify(imageGame.getErrorScore(user_proc_str[1][0:len(user_proc_str[1])-1], server_proc_str[1]))

    


@app.route("/get-paragraph", methods=["POST"])
def getParagraph():
    global old_paragraph
    old_paragraph = paragraphGame.generateParagraph(50)
    return jsonify(old_paragraph)


@app.route("/compare-paragraphs", methods=["POST"])
def compareParagraphs():
    new_paragraph = request.get_json()
    paragraphGame.compareParagraph(old_paragraph, new_paragraph)




